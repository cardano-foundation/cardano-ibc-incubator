Running IBC Integration Tests
Test 1: Verifying services are running...
   Cardano node is running
   Gateway is running
   Mithril is not running (optional)
PASS Test 1: All services are running
Test 2: Verifying Handler UTXO has ibc_state_root field...
   HostState NFT policy: b9b815c318ca18ce82e09c60fa892402e884d92c0117596d187ad1c9
   HostState address: addr_test1wz04xz8ygmq9d7aluyj5uksvnrhnj3a3uwfpgv7u5cxqmuctdzjfn
   Raw UTXO output: {
    "e2d4af048af7e63a4785aed10bd74afa1d17734c37051f2f06624649361c60cd#0": {
        "address": "addr_test1wz04xz8ygmq9d7aluyj5uksvnrhnj3a3uwfpgv7u5cxqmuctdzjfn",
        "datum": null,
        "inlineDatum": {
            "constructor": 0,
            "fields": [
                {
                    "constructor": 0,
                    "fields": [
                        {
                            "int": 0
                        },
                        {
                            "bytes": "0000000000000000000000000000000000000000000000000000000000000000"
                        },
                        {
                            "int": 0
                        },
                        {
                            "int": 0
                        },
                        {
                            "int": 0
                        },
                        {
                            "list": []
                        },
                        {
                            "int": 1767976535611
                        }
                    ]
                },
                {
                    "bytes": "b9b815c318ca18ce82e09c60fa892402e884d92c0117596d187ad1c9"
                }
            ]
        },
        "inlineDatumRaw": "d87982d879870058200000000000000000000000000000000000000000000000000000000000000000000000801b0000019ba39d063b581cb9b815c318ca18ce82e09c60fa892402e884d92c0117596d187ad1c9",
        "inlineDatumhash": "0f50d98f5ed46974e09dad3cf89dfcf94b9bfc7f1c750b4687e9b61f62eb353a",
        "referenceScript": null,
        "value": {
            "b9b815c318ca18ce82e09c60fa892402e884d92c0117596d187ad1c9": {
                "6962635f686f73745f7374617465": 1
            },
            "lovelace": 1461090
        }
    }
}
   Found ibc_state_root: 0000000000000000...
   Initial root: 0000000000000000...
PASS Test 2: Handler UTXO has valid ibc_state_root
Test 3: Creating client via Hermes and verifying root changes...
   Creating client via Hermes...
   Running: hermes create client --host-chain cardano-devnet --reference-chain cheqd-testnet-6
FAIL Test 3: Hermes client creation failed
Hermes client creation failed:
stdout: ERROR foreign client error: error raised while creating client for chain cardano-devnet: failed sending message to dst chain : send_tx resulted in chain error event: Failed to build transaction: Gateway client error: h2 protocol error: http2 error

stderr: 2026-01-09T17:17:30.042240Z  INFO ThreadId(01) using default configuration from '/Users/juliustranquilli/.hermes/config.toml'
2026-01-09T17:17:30.042649Z  INFO ThreadId(01) running Hermes v1.13.2+9f81e546-dirty
2026-01-09T17:17:31.194591Z  INFO ThreadId(01) Bootstrapping Cardano chain endpoint
2026-01-09T17:17:31.194600Z  INFO ThreadId(01) Initializing Cardano endpoint for chain: cardano-devnet, gateway: http://localhost:5001
2026-01-09T17:17:31.194609Z  INFO ThreadId(01) Connecting to Cardano Gateway at http://localhost:5001
2026-01-09T17:17:31.195160Z  INFO ThreadId(01) Gateway client initialized successfully
2026-01-09T17:17:31.195174Z  INFO ThreadId(01) Keyring initialized successfully
2026-01-09T17:17:31.195175Z  INFO ThreadId(01) Cardano chain endpoint bootstrap complete
DEBUG from_mnemonic input: ed25519_sk1rvgjxs8sd (len=69)
DEBUG: Detected bech32 key, using from_bech32_key
DEBUG Cardano key from bech32:
  VKey: f805c663b8e1ff47da1f49ed02f1a05b9ff09079c1294b94ab8c693e41ee9f88
2026-01-09T17:17:32.243859Z  INFO ThreadId(13) Building client state for chain cheqd-testnet-6 with height: revision_number=6, revision_height=15824582
2026-01-09T17:17:34.382817Z  INFO ThreadId(25) send_messages_and_wait_commit: processing 1 messages
2026-01-09T17:17:34.382911Z  INFO ThreadId(25) Building unsigned transaction for message type: /ibc.core.client.v1.MsgCreateClient


Ensure Hermes is configured and keys are added:
- hermes keys add --chain cardano-devnet --mnemonic-file ~/cardano.txt
- hermes keys add --chain cheqd-testnet-6 --mnemonic-file ~/cheqd.txt
Test 4: Creating connection via Hermes and verifying root changes...
SKIP Test 4: Skipped due to Test 3 failure
Test 5: Creating channel via Hermes and verifying root changes...
SKIP Test 5: Skipped due to Test 4 failure

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Test Summary: 5 total
  ✓ 2 passed
  ⊘ 2 skipped
  ✗ 1 failed
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ Tests failed! Fix the errors above and try again.
